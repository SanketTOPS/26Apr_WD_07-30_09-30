<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stundet Registration System - OOP</title>
</head>

<body style="background-color: aliceblue;">
    <h1 style="text-align: center;color: blue;">Stundet Registration System - OOP</h1>
    <hr>

    <input type="text" id="name" placeholder="Enter Name:"> <br><br>
    <input type="email" id="email" placeholder="Enter Email:"> <br><br>
    <input type="number" id="marks" placeholder="Enter Marks:"><br><br>
    <button onclick="register()">Register</button>

    <hr>
    <table border="1">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Marks</th>
                <th>Result</th>
            </tr>
        </thead>
        <tbody id="tlist"></tbody>
    </table>

    <script>
        //Parent Class
        class Person {
            constructor(name, email) {
                this.name = name;
                this.email = email;
            }

            displayInfo() {
                throw new Error("displayInfo() must be implemented!")
            }
        }

        class Student extends Person {
            #marks; //Private

            constructor(name, email, marks) {
                super(name, email);
                this.#marks = marks;
            }

            getResult() {
                return this.#marks >= 40 ? "Pass" : "Fail";
            }

            displayInfo() {
                return `
                    <tr>
                        <td>${this.name}</td>
                        <td>${this.email}</td>
                        <td>${this.#marks}</td>
                        <td>${this.getResult()}</td>
                    </tr>`;
            }
        }

        let stdata = [];

        function register() {
            let nm = document.getElementById("name").value;
            let em = document.getElementById("email").value;
            let mk = Number(document.getElementById("marks").value);

            if (!nm || !em || mk === "") {
                alert("All fields are required!");
            }

            let s = new Student(nm, em, mk);
            stdata.push(s);

            addStdata();
            clearForm();
        }

        function addStdata() {
            let row = "";

            stdata.forEach(st => {
                row += st.displayInfo();
            });

            document.getElementById("tlist").innerHTML = row;

        }

        function clearForm() {
            document.getElementById("name").value = "";
            document.getElementById("email").value = "";
            document.getElementById("marks").value = "";
        }
    </script>
</body>

</html>